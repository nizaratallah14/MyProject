<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Scrollable 3D Shapes</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  html, body { width:100%; height:100%; margin:0; font-family:sans-serif; overflow-x:hidden; }
  #renderCanvas { width:100%; height:100vh; display:block; position:fixed; top:0; left:0; z-index:0; }
  .content {
    position: relative;
    z-index:1;
    width: 100%;
    height: 300vh; /* enough to scroll */
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 50px;
    gap: 50px;
  }
  .btn {
    padding: 15px 25px;
    background: #ff4081;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 18px;
    pointer-events: auto; /* allow clicks */
  }
</style>
</head>
<body>

<canvas id="renderCanvas"></canvas>

<div class="content">
  <button class="btn" onclick="alert('Button 1 clicked!')">Button 1</button>
  <button class="btn" onclick="alert('Button 2 clicked!')">Button 2</button>
  <button class="btn" onclick="alert('Button 3 clicked!')">Button 3</button>
</div>

<script src="https://cdn.babylonjs.com/babylon.js"></script>

<script>
// Engine & Scene
const canvas = document.getElementById("renderCanvas");
const engine = new BABYLON.Engine(canvas, true);
const scene = new BABYLON.Scene(engine);

// Camera
const camera = new BABYLON.ArcRotateCamera("cam", Math.PI/2, Math.PI/4, 15, BABYLON.Vector3.Zero(), scene);
camera.attachControl(canvas, true);

// Lights
const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0,1,0), scene);
light.intensity = 0.9;

// Array to hold all shapes
const shapes = [];

// Create 30+ shapes (sphere, box, torus)
for(let i=0;i<30;i++){
    let mesh;
    const type = Math.floor(Math.random()*3); // 0=sphere,1=box,2=torus
    if(type===0) mesh = BABYLON.MeshBuilder.CreateSphere("sphere"+i,{diameter:1},scene);
    if(type===1) mesh = BABYLON.MeshBuilder.CreateBox("box"+i,{size:1},scene);
    if(type===2) mesh = BABYLON.MeshBuilder.CreateTorus("torus"+i,{diameter:1,thickness:0.3},scene);

    mesh.position = new BABYLON.Vector3(Math.random()*12-6, Math.random()*6-3, Math.random()*12-6);

    const mat = new BABYLON.StandardMaterial("mat"+i,scene);
    mat.diffuseColor = new BABYLON.Color3(Math.random(),Math.random(),Math.random());
    mesh.material = mat;

    // Add small random speed for floating and rotation
    mesh.userData = {
        rotSpeedY: 0.002 + Math.random()*0.003,
        floatSpeed: 0.001 + Math.random()*0.002,
        floatDirection: Math.random() > 0.5 ? 1 : -1
    };

    shapes.push(mesh);
}

// Scroll animation
window.addEventListener('scroll', ()=>{
    const scrollPercent = window.scrollY / (document.body.scrollHeight - window.innerHeight);
    shapes.forEach((mesh,i)=>{
        // Move up/down slightly based on scroll
        mesh.position.y += (scrollPercent*5 - mesh.position.y)*0.05;
        // Rotate based on scroll
        mesh.rotation.y += scrollPercent * 0.02;
    });
});

// Animate shapes
engine.runRenderLoop(()=>{
    shapes.forEach(mesh=>{
        // Slowly rotate by default
        mesh.rotation.y += mesh.userData.rotSpeedY;
        // Slowly float up/down
        mesh.position.y += mesh.userData.floatSpeed * mesh.userData.floatDirection;
        // Bounce if too high or low
        if(mesh.position.y>6) mesh.userData.floatDirection = -1;
        if(mesh.position.y<-6) mesh.userData.floatDirection = 1;
    });
    scene.render();
});

// Resize
window.addEventListener('resize',()=>engine.resize());
</script>

</body>
</html>
