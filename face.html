<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Scroll Demo</title>
<style>
  body { margin:0; overflow-x:hidden; font-family: sans-serif; }
  #container { width:100vw; height:100vh; display:block; }
  .fixed-btn {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 10;
    padding: 12px 20px;
    background:#ff4081;
    color:white;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-size:16px;
  }
</style>
</head>
<body>

<button class="fixed-btn" onclick="alert('Hi!')">Say Hi</button>
<div id="container"></div>

<script type="module">
import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';
import { GLTFLoader } from 'https://unpkg.com/three@0.160.0/examples/jsm/loaders/GLTFLoader.js';
import { OrbitControls } from 'https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js';

// Scene & Camera
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(50, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(0, 0, 5);

// Renderer
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.getElementById('container').appendChild(renderer.domElement);

// Orbit Controls
const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;

// Light
const light = new THREE.DirectionalLight(0xffffff,1);
light.position.set(5,5,5);
scene.add(light);
scene.add(new THREE.AmbientLight(0x555555));

// Load 3D Model
let model;
const loader = new GLTFLoader();
loader.load('https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf',
  (gltf) => {
    model = gltf.scene;
    model.scale.set(2,2,2);
    scene.add(model);
  },
  undefined,
  (error) => console.error(error)
);

// Handle resize
window.addEventListener('resize', () => {
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});

// Scroll Animation
window.addEventListener('scroll', () => {
  if(!model) return;
  const scrollPercent = window.scrollY / (document.body.scrollHeight - window.innerHeight);
  model.rotation.y = scrollPercent * Math.PI * 2; // rotate as you scroll
  model.position.y = -scrollPercent * 2; // move down slightly
  model.scale.setScalar(2 + scrollPercent); // scale up slightly
});

// Minimal page height to allow scrolling
document.body.style.height = '300vh';

// Animate
function animate(){
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene,camera);
}
animate();
</script>

</body>
</html>
